#!/bin/bash

echo "ğŸ” VÃ©rification du statut - Show Room Pro"
echo "========================================="
echo ""

# VÃ©rifier si liÃ© Ã  Railway
if [ -d ".railway" ]; then
    echo "âœ… Projet liÃ© Ã  Railway"
else
    echo "âš ï¸  Projet non liÃ© Ã  Railway"
fi

echo ""
echo "ğŸ“Š Essai de rÃ©cupÃ©ration du statut Railway..."
railway status 2>/dev/null || echo "âŒ Impossible de rÃ©cupÃ©rer le statut (normal si non liÃ© au bon service)"

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“‹ CHECKLIST DE DÃ‰PLOIEMENT"
echo ""
echo "Backend:"
echo "  [ ] Service dÃ©ployÃ© (ğŸŸ¢ sur Railway)"
echo "  [ ] Base de donnÃ©es migrÃ©e (yarn medusa db:migrate)"
echo "  [ ] DonnÃ©es seed insÃ©rÃ©es (yarn run seed)"
echo "  [ ] Admin crÃ©Ã© (yarn medusa user...)"
echo "  [ ] API accessible (https://backend-xxx/health)"
echo ""
echo "Storefront:"
echo "  [ ] Service dÃ©ployÃ© (ğŸŸ¢ sur Railway)"
echo "  [ ] ClÃ© publique configurÃ©e (NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY)"
echo "  [ ] Site accessible (https://storefront-xxx)"
echo "  [ ] Branding Show Room Pro visible"
echo ""
echo "Configuration:"
echo "  [ ] URLs CORS mises Ã  jour dans Backend"
echo "  [ ] URL Backend mise Ã  jour dans Storefront"
echo "  [ ] URL Storefront mise Ã  jour dans Storefront"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“ PROCHAINES Ã‰TAPES RECOMMANDÃ‰ES:"
echo ""
echo "1. Si DB pas initialisÃ©e :"
echo "   â†’ Railway.app â†’ Backend â†’ Terminal"
echo "   â†’ ExÃ©cutez: yarn medusa db:migrate && yarn run seed"
echo ""
echo "2. Si pas de clÃ© publique :"
echo "   â†’ Railway.app â†’ PostgreSQL â†’ Connect â†’ psql"
echo "   â†’ SELECT token FROM api_key WHERE type = 'publishable';"
echo ""
echo "3. Mettre la clÃ© dans Storefront :"
echo "   â†’ Railway.app â†’ Storefront â†’ Variables"
echo "   â†’ NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY = pk_..."
echo ""
echo "4. VÃ©rifier les URLs :"
echo "   â†’ Notez vos URLs Railway"
echo "   â†’ Mettez Ã  jour CORS et URLs dans les variables"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
